{"version":3,"file":"header.js","sourceRoot":"","sources":["../src/header.ts"],"names":[],"mappings":"AAYA,MAAM,CAAN,IAAY,UAWX;AAXD,WAAY,UAAU;IACpB,yBAAW,CAAA;IACX,uDAAyC,CAAA;IACzC,qDAAuC,CAAA;IACvC,uCAAyB,CAAA;IACzB,uCAAyB,CAAA;IACzB,qCAAuB,CAAA;IACvB,uCAAyB,CAAA;IACzB,+BAAiB,CAAA;IACjB,+BAAiB,CAAA;IACjB,+BAAiB,CAAA;AACnB,CAAC,EAXW,UAAU,KAAV,UAAU,QAWrB","sourcesContent":["import { AgentPubKey, Hash, Signature } from \"./common\";\nimport { EntryType } from \"./entry\";\nimport { HoloHashed } from \"./hashed\";\nimport { Timestamp } from \"./timestamp\";\n\nexport interface SignedHeaderHashed<H extends Header = Header> {\n  header: HoloHashed<H>;\n  signature: Signature;\n}\n\nexport type HeaderHashed = HoloHashed<Header>;\n\nexport enum HeaderType {\n  Dna = \"Dna\",\n  AgentValidationPkg = \"AgentValidationPkg\",\n  InitZomesComplete = \"InitZomesComplete\",\n  CreateLink = \"CreateLink\",\n  DeleteLink = \"DeleteLink\",\n  OpenChain = \"OpenChain\",\n  CloseChain = \"CloseChain\",\n  Create = \"Create\",\n  Update = \"Update\",\n  Delete = \"Delete\",\n}\n\nexport type HeaderContent<T extends HeaderType, H> = H & {\n  type: T;\n};\n\nexport type Header =\n  | Dna\n  | AgentValidationPkg\n  | InitZomesComplete\n  | CreateLink\n  | DeleteLink\n  | OpenChain\n  | CloseChain\n  | Delete\n  | NewEntryHeader;\n\nexport type NewEntryHeader = Create | Update;\n\nexport interface Dna {\n  type: HeaderType.Dna;\n\n  author: AgentPubKey;\n  timestamp: Timestamp;\n  hash: Hash;\n}\n\nexport interface AgentValidationPkg {\n  type: HeaderType.AgentValidationPkg;\n\n  author: AgentPubKey;\n  timestamp: Timestamp;\n  header_seq: number;\n  prev_header: Hash;\n\n  membrane_proof: any;\n}\n\nexport interface InitZomesComplete {\n  type: HeaderType.InitZomesComplete;\n\n  author: AgentPubKey;\n  timestamp: Timestamp;\n  header_seq: number;\n  prev_header: Hash;\n}\n\nexport interface CreateLink {\n  type: HeaderType.CreateLink;\n\n  author: AgentPubKey;\n  timestamp: Timestamp;\n  header_seq: number;\n  prev_header: Hash;\n\n  base_address: Hash;\n  target_address: Hash;\n  zome_id: number;\n  tag: any;\n}\n\nexport interface DeleteLink {\n  type: HeaderType.DeleteLink;\n\n  author: AgentPubKey;\n  timestamp: Timestamp;\n  header_seq: number;\n  prev_header: Hash;\n\n  base_address: Hash;\n  link_add_address: Hash;\n}\n\nexport interface OpenChain {\n  type: HeaderType.OpenChain;\n\n  author: AgentPubKey;\n  timestamp: Timestamp;\n  header_seq: number;\n  prev_header: Hash;\n\n  prev_dna_hash: Hash;\n}\n\nexport interface CloseChain {\n  type: HeaderType.CloseChain;\n\n  author: AgentPubKey;\n  timestamp: Timestamp;\n  header_seq: number;\n  prev_header: Hash;\n\n  new_dna_hash: Hash;\n}\n\nexport interface Update {\n  type: HeaderType.Update;\n\n  author: AgentPubKey;\n  timestamp: Timestamp;\n  header_seq: number;\n  prev_header: Hash;\n\n  original_header_address: Hash;\n  original_entry_address: Hash;\n\n  entry_type: EntryType;\n  entry_hash: Hash;\n}\n\nexport interface Delete {\n  type: HeaderType.Delete;\n\n  author: AgentPubKey;\n  timestamp: Timestamp;\n  header_seq: number;\n  prev_header: Hash;\n\n  deletes_address: Hash;\n  deletes_entry_address: Hash;\n}\n\nexport interface Create {\n  type: HeaderType.Create;\n\n  author: AgentPubKey;\n  timestamp: Timestamp;\n  header_seq: number;\n  prev_header: Hash;\n\n  entry_type: EntryType;\n  entry_hash: Hash;\n}\n"]}